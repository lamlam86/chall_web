# Sử dụng base image Python 3.10 trên Debian/Ubuntu
FROM python:3.10-slim

# Tạo thư mục làm việc trong container
WORKDIR /app

# Copy toàn bộ source code vào container
COPY . /app

# Copy flag vào thư mục root của container và đổi tên
COPY d_flag_o_day_ne.txt /d_flag_o_day_ne.txt

# Cài dependencies
RUN pip install --no-cache-dir -r requirements.txt \
    && chmod 777 /d_flag_o_day_ne.txt \
    && rm -f /app/Dockerfile

    # Copy Dockerfile vào container nhưng đổi tên
COPY Dockerfile /zDockerfile

# Expose port 7000
EXPOSE 7000

# Chạy app (đúng tên file zapp.py)
CMD ["python", "zapp.py"]

